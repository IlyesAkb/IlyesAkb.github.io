(function(e){function t(t){for(var r,a,u=t[0],o=t[1],c=t[2],d=0,p=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&p.push(s[a][0]),s[a]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var o=n[u];0!==s[o]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},s={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var l=o;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},3133:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Game")],1)},i=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game"},[n("div",{staticClass:"game__field"},e._l(e.buttons,(function(t){return n("div",{staticClass:"game__button",class:{active:t.active},style:{background:t.color},on:{mousedown:function(n){return e.mouseDownHandler(t)},mouseup:function(n){return e.mouseUpHandler(t)}}})})),0),n("div",{staticClass:"menu"},[n("div",{staticClass:"menu__level"},[n("h4",[e._v("Уровень: "+e._s(e.level))])]),n("div",{staticClass:"menu__message"},[n("span",[e._v(e._s(e.message))])]),n("div",{staticClass:"menu__start-button",class:{disabled:e.playing,active:!e.playing},on:{click:e.start}},[e._v(" Старт ")]),n("h4",[e._v("Сложность:")]),n("ul",{staticClass:"menu__difficulty"},e._l(e.allDifficultyLevels,(function(t){return n("li",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.difficulty,expression:"difficulty"}],attrs:{type:"radio",name:"difficulty",disabled:e.playing},domProps:{value:t.speed,checked:e._q(e.difficulty,t.speed)},on:{change:function(n){e.difficulty=t.speed}}}),e._v(" "+e._s(t.name)+" ")])])})),0)])])},u=[],o=(n("7db0"),n("38cf"),n("96cf"),n("1da1")),c={buttons:[{id:1,color:"#c82727",sound:"https://raw.githubusercontent.com/kellyk/javascript-simon/master/sounds/1.mp3",active:!1},{id:2,color:"#2c47cd",sound:"https://raw.githubusercontent.com/kellyk/javascript-simon/master/sounds/2.mp3",active:!1},{id:3,color:"#39c32d",sound:"https://raw.githubusercontent.com/kellyk/javascript-simon/master/sounds/3.mp3",active:!1},{id:4,color:"#cbba2b",sound:"https://raw.githubusercontent.com/kellyk/javascript-simon/master/sounds/4.mp3",active:!1}],difficulty:[{name:"Легкая",speed:1500},{name:"Средняя",speed:1e3},{name:"Тяжелая",speed:400}],animationTime:400,messages:{watch:"Запомни последовательность",failed:"Проиграл",repeat:"Повтори последовательность"}};n("d81d"),n("d3b7");function l(e){return new Promise((function(t){return setTimeout(t,e)}))}function d(){return c.buttons.map((function(e){return e.sound=new Audio(e.sound),e}))}var p={name:"Game",data:function(){return{buttons:[],activeButton:null,level:1,buttonsOrder:[],playerTurn:!1,difficulty:c.difficulty[0].speed,stepNumber:0,playing:!1,message:""}},computed:{allDifficultyLevels:function(){return c.difficulty}},methods:{play:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.message=c.messages.watch,t.next=3,l(1e3);case 3:n=0;case 4:if(!(n<=e.level)){t.next=24;break}if(!(n<e.level)){t.next=18;break}return r=e.getRandomButton(),e.buttonsOrder.push(r.id),t.next=10,r.sound.play();case 10:return r.active=!0,t.next=13,l(c.animationTime);case 13:return r.active=!1,t.next=16,l(e.difficulty);case 16:t.next=21;break;case 18:return e.playerTurn=!0,e.message=c.messages.repeat,t.abrupt("break",24);case 21:n++,t.next=4;break;case 24:case"end":return t.stop()}}),t)})))()},mouseDownHandler:function(e){this.playerTurn&&(this.activeButton&&(this.activeButton.sound.pause(),this.activeButton.sound.currentTime=0),e.active=!0,e.sound.play(),this.activeButton=e)},mouseUpHandler:function(e){if(this.playerTurn){if(e.id!==this.buttonsOrder[this.stepNumber])return this.playing=!1,this.playerTurn=!1,e.active=!1,void(this.message=c.messages.failed);e.active=!1,this.stepNumber++,this.stepNumber===this.buttonsOrder.length&&(this.activeButton=null,this.nextLevel())}},nextLevel:function(){this.playerTurn=!1,this.stepNumber=0,this.level++,this.buttonsOrder=[],this.play()},reset:function(){this.buttonsOrder=[],this.stepNumber=0,this.playing=!0,this.playerTurn=!1,this.level=1},start:function(){this.playing||(this.playing=!0,this.reset(),this.play())},getRandomButton:function(){var e=Math.ceil(Math.random()*c.buttons.length);return this.buttons.find((function(t){return t.id===e}))}},mounted:function(){this.buttons=d()}},f=p,m=(n("c70f"),n("2877")),v=Object(m["a"])(f,a,u,!1,null,"2071f8ee",null),h=v.exports,b={name:"App",components:{Game:h}},y=b,g=(n("5c0b"),Object(m["a"])(y,s,i,!1,null,null,null)),_=g.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(_)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),s=n.n(r);s.a},"9c0c":function(e,t,n){},c70f:function(e,t,n){"use strict";var r=n("3133"),s=n.n(r);s.a}});
//# sourceMappingURL=app.a45bfd44.js.map