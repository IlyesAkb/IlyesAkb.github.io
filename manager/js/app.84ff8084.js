(function(e){function t(t){for(var o,s,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={app:0},r=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"47bb":function(e,t,n){"use strict";n("5a67")},"4e41":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Table")],1)},r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[!e.load||e.error?n("div",{staticClass:"placeholder"},[n("h1",[e._v(e._s(e.error?"Разрыв соединения...":"Идет соединение..."))])]):e._e(),e._m(0),n("div",{staticClass:"viewport"},e._l(e.rows,(function(t){return n("TableRow",{key:t.id,attrs:{id:t.id,name:t.name,position:t.position,salary:t.salary,status:t.status,date:t.date,selected:e.selectedCells},on:{rowChanged:e.changeRow,onSelect:e.selectCell,onUnselect:e.unselectCell}})})),1),n("div",{staticClass:"bottom"},[n("TableForm",{attrs:{"create-row":e.createRow}})],1)])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"head"},[n("div",{staticClass:"row"},[n("div",[e._v("ФИО")]),n("div",[e._v("Должность")]),n("div",[e._v("Оклад")]),n("div",[e._v("Статус")]),n("div",[e._v("Дата приема на работу")])])])}],l=n("2f62"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},e._l(e.cells,(function(t){return n("div",{class:{selected:e.selected.includes(e.id+":"+t.key)}},["select"===t.type?n("select",{on:{change:function(n){return e.handleRowChange(n,t.key)},mousedown:function(n){return e.handleFocus(n,e.id+":"+t.key)},focus:function(n){return e.handleFocus(n,e.id+":"+t.key)},blur:function(n){return e.handleBlur(n,e.id+":"+t.key)}}},e._l(t.options,(function(t){return n("option",{domProps:{value:t,selected:t===e.status}},[e._v(" "+e._s(t)+" ")])})),0):n("input",{attrs:{type:t.type},domProps:{value:e.$props[t.key]},on:{input:function(n){return e.handleRowChange(n,t.key)},focus:function(n){return e.handleFocus(n,e.id+":"+t.key)},blur:function(n){return e.handleBlur(n,e.id+":"+t.key)}}})])})),0)},u=[],d=(n("caad"),n("2532"),n("498a"),["Соискатель","Сотрудник","Уволен"]),p="Соискатель",m=[{type:"text",key:"name"},{type:"text",key:"position"},{type:"text",key:"salary"},{type:"select",key:"status",options:d},{type:"date",key:"date"}],f={name:"TableRow",props:["name","position","status","salary","date","id","selected"],computed:{statuses:function(){return d},cells:function(){return m}},methods:{handleRowChange:function(e,t){var n=e.target.value;if(this.$props[t]!==n.trim()){var o=this.$props.id;this.$emit("rowChanged",{id:o,key:t,value:n})}},handleFocus:function(e,t){if(this.selected.includes(t))return e.preventDefault(),void e.target.blur();this.$emit("onSelect",t)},handleBlur:function(e,t){this.selected.includes(t)||this.$emit("onUnselect")}}},v=f,h=(n("47bb"),n("2877")),b=Object(h["a"])(v,c,u,!1,null,"0c8de8c7",null),y=b.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"row",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"ФИО"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.position,expression:"position"}],attrs:{type:"text",placeholder:"Должность"},domProps:{value:e.position},on:{input:function(t){t.target.composing||(e.position=t.target.value)}}})]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.salary,expression:"salary"}],attrs:{type:"text",placeholder:"Оклад"},domProps:{value:e.salary},on:{input:function(t){t.target.composing||(e.salary=t.target.value)}}})]),n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.status,expression:"status"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.status=t.target.multiple?n:n[0]}}},e._l(e.statuses,(function(t){return n("option",{domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],attrs:{type:"date"},domProps:{value:e.date},on:{input:function(t){t.target.composing||(e.date=t.target.value)}}})]),e.name&&e.status&&e.position&&e.salary&&e.date?n("button",{staticClass:"submit-btn",attrs:{type:"submit"}},[e._v(" Создать ")]):e._e()])},g=[],C=(n("b0c0"),n("e1bd")),_={name:"TableForm",props:["createRow"],data:function(){return{name:"",position:"",status:p,salary:"",date:""}},computed:{statuses:function(){return d}},methods:{handleSubmit:function(){var e=this.$data,t=e.name,n=e.status,o=e.salary,a=e.position,r=e.date;t&&n&&a&&o&&r&&(this.createRow({id:Object(C["nanoid"])(),name:t,status:n,salary:o,position:a,date:r}),this.clearForm())},clearForm:function(){this.date="",this.name="",this.salary="",this.position="",this.status=p}}},k=_,S=(n("66af"),Object(h["a"])(k,w,g,!1,null,"bb922a9c",null)),R=S.exports,x={name:"Table",components:{TableRow:y,TableForm:R},computed:Object(l["c"])(["rows","selectedCells","load","error"]),methods:Object(l["b"])(["createRow","changeRow","selectCell","unselectCell"])},O=x,T=(n("d143"),Object(h["a"])(O,s,i,!1,null,null,null)),j=T.exports,P={name:"App",components:{Table:j}},$=P,I=(n("034f"),Object(h["a"])($,a,r,!1,null,null,null)),E=I.exports,F=(n("4de4"),n("c740"),n("d81d"),n("8e27")),N=n.n(F),J=N()("https://git.heroku.com/hr-manager123.git"),D=function(e){J.on("disconnect",(function(){e.commit("setLoad",!1),e.commit("setError",!0)})),J.on("connected",(function(t){e.commit("setSelectedCells",t.selectedCells),e.commit("setId",t.connectionId);var n=+JSON.parse(localStorage.getItem("dataToken"));if(n&&n===t.dataToken){var o=JSON.parse(localStorage.getItem("table"));e.commit("setRows",o),e.commit("setLoad",!0),e.commit("setError",!1)}else J.emit("refresh")})),J.on("refreshed",(function(t){localStorage.setItem("table",JSON.stringify(t.table)),localStorage.setItem("dataToken",t.dataToken),e.commit("setRows",t.table),e.commit("setLoad",!0),e.commit("setError",!1)})),J.on("created",(function(t){return e.commit("addRow",t)})),J.on("changed",(function(t){return e.commit("setRowValue",t)})),J.on("selected",(function(t){return e.commit("setSelectedCells",t)})),J.on("unselected",(function(t){return e.commit("setSelectedCells",t)})),J.on("tokenUpdated",(function(e){return localStorage.setItem("dataToken",e)})),e.subscribeAction((function(e){switch(e.type){case"selectCell":J.emit("select",e.payload);break;case"unselectCell":J.emit("unselect");break;case"changeRow":J.emit("change",{dataToken:Date.now(),data:e.payload});break;case"createRow":J.emit("create",{dataToken:Date.now(),data:e.payload});break;default:return}}))},L=function(e){e.subscribe((function(t){var n=["setRowValue","addRow"];n.includes(t.type)&&localStorage.setItem("table",JSON.stringify(e.state.rows))}))};o["a"].use(l["a"]);var M=new l["a"].Store({state:{load:!1,error:!1,id:null,rows:[],selectedCells:[]},mutations:{setLoad:function(e,t){return e.load=t},setError:function(e,t){return e.error=t},addRow:function(e,t){return e.rows.push(t)},setRows:function(e,t){return e.rows=t},setRowValue:function(e,t){var n=t.key,o=t.value,a=t.id,r=e.rows.findIndex((function(e){return e.id===a}));e.rows[r][n]=o},addSelectedCell:function(e,t){e.selectedCells.push({token:e.id,id:t.id})},removeSelectedCell:function(e){e.selectedCells=e.selectedCells.filter((function(t){return t.token!==e.id}))},setSelectedCells:function(e,t){return e.selectedCells=t},setId:function(e,t){return e.id=t}},actions:{createRow:function(e,t){var n=e.commit;n("addRow",t)},changeRow:function(e,t){var n=e.commit;n("setRowValue",t)},selectCell:function(e,t){var n=e.commit;n("addSelectedCell",t)},unselectCell:function(e){var t=e.commit;t("removeSelectedCell")}},getters:{rows:function(e){return e.rows},selectedCells:function(e){return e.selectedCells.map((function(t){if(t.token!==e.id)return t.id}))},load:function(e){return e.load},error:function(e){return e.error}},plugins:[D,L]});n("db43");o["a"].config.productionTip=!1,new o["a"]({store:M,render:function(e){return e(E)}}).$mount("#app")},"5a67":function(e,t,n){},"66af":function(e,t,n){"use strict";n("b1a6")},"85ec":function(e,t,n){},b1a6:function(e,t,n){},d143:function(e,t,n){"use strict";n("4e41")},db43:function(e,t,n){}});
//# sourceMappingURL=app.84ff8084.js.map